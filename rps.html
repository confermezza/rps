<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Rock Paper Scissors</title>
</head>

<body>
    <script type="text/javascript">
        function computerPlay() {
            let num = Math.random()
            let choice

            (num < 0.33) ? choice = 'rock': (num < 0.67) ? choice = 'scissors' :
                choice = 'paper'

            return choice
        }

        // playerSelection = prompt("Rock, Papers or Scissors?")
        // computerSelection = computerPlay()

        function playRound(p, c) {
            let pl = p.toLowerCase()
            let cl = c.toLowerCase()
            let result

            if (pl == 'rock' && cl == 'paper' ||
                pl == 'paper' && cl == 'scissors' ||
                pl == 'scissors' && cl == 'rock') {
                result = 0
            } else if (pl == 'rock' && cl == 'scissors' ||
                pl == 'paper' && cl == 'rock' ||
                pl == 'scissors' && cl == 'paper') {
                result = 1
            } else if (pl == cl) {
                result = 2
            } else {
                result = 3
            }
            return result
        }

        function game() {

            let comp_sc = 0
            let my_sc = 0

            for (let i = 0; i < 5; i++) {

                playerSelection = prompt("Rock, Papers or Scissors?")
                computerSelection = computerPlay()
                result = playRound(playerSelection, computerSelection)

                if (result == 0) {
                    comp_sc++
                    console.log("Computer: " + computerSelection + ". You lose this round!")
                } else if (result == 1) {
                    my_sc++
                    console.log("Computer: " + computerSelection + ". You win this round!")
                } else if (result == 2) {
                    console.log("Computer: " + computerSelection + ". It's a tie!")
                } else {
                    console.log("Wrong choice!")
                }
            }
            // alert('Computer score: ' + comp_sc + ". Your score: " + my_sc)
            if (my_sc < comp_sc) {
                console.log("Computer: " + comp_sc + " You: " + my_sc + '. You lose!')
            } else if (my_sc > comp_sc) {
                console.log("Computer: " + comp_sc + " You: " + my_sc + '. You win!')
            } else {
                console.log("Computer: " + comp_sc + " You: " + my_sc + " it's a tie o_0")
            }
        }


        game();

        // alert(playRound(playerSelection, computerSelection))
    </script>
</body>

</html>
